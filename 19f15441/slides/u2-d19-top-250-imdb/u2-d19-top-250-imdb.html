<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="datasciencebox.org">

<title>DSC 223 - Fall 2022 - Block 2 - Scraping top 250 movies on IMDB</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<link href="../../site_libs/font-awesome/css/all.css" rel="stylesheet">
<link href="../../site_libs/font-awesome/css/v4-shims.css" rel="stylesheet">
<link href="../../site_libs/panelset/panelset.css" rel="stylesheet">
<script src="../../site_libs/panelset/panelset.js"></script>
<script src="../../site_libs/htmlwidgets/htmlwidgets.js"></script>
<link href="../../site_libs/datatables-css/datatables-crosstalk.css" rel="stylesheet">
<script src="../../site_libs/datatables-binding/datatables.js"></script>
<script src="../../site_libs/jquery/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="../../site_libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="../../site_libs/dt-core/js/jquery.dataTables.min.js"></script>
<link href="../../site_libs/crosstalk/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk/js/crosstalk.min.js"></script>


<meta property="og:title" content="DSC 223 - Fall 2022 - Block 2 - Scraping top 250 movies on IMDB">
<meta property="og:description" content=" Data Science in a Box">
<meta property="og:site-name" content="DSC 223 - Fall 2022 - Block 2">
<meta name="twitter:title" content="DSC 223 - Fall 2022 - Block 2 - Scraping top 250 movies on IMDB">
<meta name="twitter:description" content=" Data Science in a Box">
<meta name="twitter:image" content="https://DSC223-FB2-2022.github.io/website/images\twitter-card.png">
<meta name="twitter:creator" content="@stats_tgeorge">
<meta name="twitter:image-height" content="418">
<meta name="twitter:image-width" content="800">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Scraping top 250 movies on IMDB</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">DSC 223 - Fall 2022 - Block 2</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/DSC223-FB2-2022/website" title="GitHub organization" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="http://turing.cornellcollege.edu:8787/" title="RStudio Server" class="sidebar-tool px-1"><i class="bi bi-code-square"></i></a>
    <a href="" title="Moodle" id="sidebar-tool-dropdown-0" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-person-fill"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-0">
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://moodle.cornellcollege.edu/mod/forum/view.php?id=239844">
          Announcements
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://moodle.cornellcollege.edu/grade/report/user/index.php?id=6992">
          Gradebook
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="https://moodle.cornellcollege.edu/course/view.php?id=6992">
          Homepage
          </a>
        </li>
    </ul>
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">Course information</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../course-overview.html" class="sidebar-item-text sidebar-link">Overview</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../course-syllabus.html" class="sidebar-item-text sidebar-link">Syllabus</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../course-support.html" class="sidebar-item-text sidebar-link">Support</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../course-instructor.html" class="sidebar-item-text sidebar-link">Instructor</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">Schedule</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../course-links.html" class="sidebar-item-text sidebar-link">Useful links</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">Computing</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../computing-access.html" class="sidebar-item-text sidebar-link">Access</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#top-250-movies-on-imdb" id="toc-top-250-movies-on-imdb" class="nav-link active" data-scroll-target="#top-250-movies-on-imdb">Top 250 movies on IMDB</a>
  <ul class="collapse">
  <li><a href="#top-250-movies-on-imdb-1" id="toc-top-250-movies-on-imdb-1" class="nav-link" data-scroll-target="#top-250-movies-on-imdb-1">Top 250 movies on IMDB</a></li>
  <li><a href="#first-check-if-youre-allowed" id="toc-first-check-if-youre-allowed" class="nav-link" data-scroll-target="#first-check-if-youre-allowed">First check if you’re allowed!</a></li>
  <li><a href="#plan" id="toc-plan" class="nav-link" data-scroll-target="#plan">Plan</a></li>
  <li><a href="#plan-1" id="toc-plan-1" class="nav-link" data-scroll-target="#plan-1">Plan</a></li>
  </ul></li>
  <li><a href="#step-1.-read-the-whole-page" id="toc-step-1.-read-the-whole-page" class="nav-link" data-scroll-target="#step-1.-read-the-whole-page">Step 1. Read the whole page</a>
  <ul class="collapse">
  <li><a href="#read-the-whole-page" id="toc-read-the-whole-page" class="nav-link" data-scroll-target="#read-the-whole-page">Read the whole page</a></li>
  <li><a href="#a-webpage-in-r" id="toc-a-webpage-in-r" class="nav-link" data-scroll-target="#a-webpage-in-r">A webpage in R</a></li>
  </ul></li>
  <li><a href="#step-2.-scrape-movie-titles-and-save-as-titles" id="toc-step-2.-scrape-movie-titles-and-save-as-titles" class="nav-link" data-scroll-target="#step-2.-scrape-movie-titles-and-save-as-titles">Step 2. Scrape movie titles and save as <code>titles</code></a>
  <ul class="collapse">
  <li><a href="#scrape-movie-titles" id="toc-scrape-movie-titles" class="nav-link" data-scroll-target="#scrape-movie-titles">Scrape movie titles</a></li>
  <li><a href="#scrape-the-nodes" id="toc-scrape-the-nodes" class="nav-link" data-scroll-target="#scrape-the-nodes">Scrape the nodes</a></li>
  <li><a href="#extract-the-text-from-the-nodes" id="toc-extract-the-text-from-the-nodes" class="nav-link" data-scroll-target="#extract-the-text-from-the-nodes">Extract the text from the nodes</a></li>
  <li><a href="#save-as-titles" id="toc-save-as-titles" class="nav-link" data-scroll-target="#save-as-titles">Save as <code>titles</code></a></li>
  </ul></li>
  <li><a href="#step-3.-scrape-year-movies-were-made-and-save-as-years" id="toc-step-3.-scrape-year-movies-were-made-and-save-as-years" class="nav-link" data-scroll-target="#step-3.-scrape-year-movies-were-made-and-save-as-years">Step 3. Scrape year movies were made and save as <code>years</code></a>
  <ul class="collapse">
  <li><a href="#scrape-years-movies-were-made-in" id="toc-scrape-years-movies-were-made-in" class="nav-link" data-scroll-target="#scrape-years-movies-were-made-in">Scrape years movies were made in</a></li>
  <li><a href="#scrape-the-nodes-1" id="toc-scrape-the-nodes-1" class="nav-link" data-scroll-target="#scrape-the-nodes-1">Scrape the nodes</a></li>
  <li><a href="#extract-the-text-from-the-nodes-1" id="toc-extract-the-text-from-the-nodes-1" class="nav-link" data-scroll-target="#extract-the-text-from-the-nodes-1">Extract the text from the nodes</a></li>
  <li><a href="#clean-up-the-text" id="toc-clean-up-the-text" class="nav-link" data-scroll-target="#clean-up-the-text">Clean up the text</a></li>
  <li><a href="#stringr" id="toc-stringr" class="nav-link" data-scroll-target="#stringr">stringr</a></li>
  <li><a href="#clean-up-the-text-1" id="toc-clean-up-the-text-1" class="nav-link" data-scroll-target="#clean-up-the-text-1">Clean up the text</a></li>
  <li><a href="#clean-up-the-text-2" id="toc-clean-up-the-text-2" class="nav-link" data-scroll-target="#clean-up-the-text-2">Clean up the text</a></li>
  <li><a href="#convert-to-numeric" id="toc-convert-to-numeric" class="nav-link" data-scroll-target="#convert-to-numeric">Convert to numeric</a></li>
  <li><a href="#save-as-years" id="toc-save-as-years" class="nav-link" data-scroll-target="#save-as-years">Save as <code>years</code></a></li>
  </ul></li>
  <li><a href="#step-4.-scrape-imdb-ratings-and-save-as-ratings" id="toc-step-4.-scrape-imdb-ratings-and-save-as-ratings" class="nav-link" data-scroll-target="#step-4.-scrape-imdb-ratings-and-save-as-ratings">Step 4. Scrape IMDB ratings and save as <code>ratings</code></a>
  <ul class="collapse">
  <li><a href="#scrape-imdb-ratings" id="toc-scrape-imdb-ratings" class="nav-link" data-scroll-target="#scrape-imdb-ratings">Scrape IMDB ratings</a></li>
  <li><a href="#scrape-the-nodes-2" id="toc-scrape-the-nodes-2" class="nav-link" data-scroll-target="#scrape-the-nodes-2">Scrape the nodes</a></li>
  <li><a href="#extract-the-text-from-the-nodes-2" id="toc-extract-the-text-from-the-nodes-2" class="nav-link" data-scroll-target="#extract-the-text-from-the-nodes-2">Extract the text from the nodes</a></li>
  <li><a href="#convert-to-numeric-1" id="toc-convert-to-numeric-1" class="nav-link" data-scroll-target="#convert-to-numeric-1">Convert to numeric</a></li>
  <li><a href="#save-as-ratings" id="toc-save-as-ratings" class="nav-link" data-scroll-target="#save-as-ratings">Save as <code>ratings</code></a></li>
  </ul></li>
  <li><a href="#step-5.-create-a-data-frame-called-imdb_top_250" id="toc-step-5.-create-a-data-frame-called-imdb_top_250" class="nav-link" data-scroll-target="#step-5.-create-a-data-frame-called-imdb_top_250">Step 5. Create a data frame called <code>imdb_top_250</code></a>
  <ul class="collapse">
  <li><a href="#create-a-data-frame-imdb_top_250" id="toc-create-a-data-frame-imdb_top_250" class="nav-link" data-scroll-target="#create-a-data-frame-imdb_top_250">Create a data frame: <code>imdb_top_250</code></a></li>
  <li><a href="#clean-up-enhance" id="toc-clean-up-enhance" class="nav-link" data-scroll-target="#clean-up-enhance">Clean up / enhance</a></li>
  </ul></li>
  <li><a href="#what-next" id="toc-what-next" class="nav-link" data-scroll-target="#what-next">What next?</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/DSC223-FB2-2022/website/edit/main/slides/u2-d19-top-250-imdb/u2-d19-top-250-imdb.Rmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/DSC223-FB2-2022/website/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Scraping top 250 movies on IMDB</h1>
<p class="subtitle lead"><br><br> Data Science in a Box</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p><a href="https://datasciencebox.org/">datasciencebox.org</a> </p>
          </div>
  </div>
    
    
  </div>
  

</header>

<p>layout: true</p>
<div class="my-footer">
<p><span> <a href="https://datasciencebox.org" target="_blank">datasciencebox.org</a> </span></p>
</div>
<hr>
<div class="cell" data-layout-align="center">

</div>
<p>class: middle</p>
<section id="top-250-movies-on-imdb" class="level1">
<h1>Top 250 movies on IMDB</h1>
<hr>
<section id="top-250-movies-on-imdb-1" class="level2">
<h2 class="anchored" data-anchor-id="top-250-movies-on-imdb-1">Top 250 movies on IMDB</h2>
<p>Take a look at the source code, look for the tag <code>table</code> tag: <br> http://www.imdb.com/chart/top</p>
<p>.pull-left[] .pull-right[]</p>
<hr>
</section>
<section id="first-check-if-youre-allowed" class="level2">
<h2 class="anchored" data-anchor-id="first-check-if-youre-allowed">First check if you’re allowed!</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(robotstxt)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">paths_allowed</span>(<span class="st">"http://www.imdb.com"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>vs.&nbsp;e.g.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paths_allowed</span>(<span class="st">"http://www.facebook.com"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<hr>
</section>
<section id="plan" class="level2">
<h2 class="anchored" data-anchor-id="plan">Plan</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/plan.png" class="img-fluid figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="plan-1" class="level2">
<h2 class="anchored" data-anchor-id="plan-1">Plan</h2>
<ol type="1">
<li><p>Read the whole page</p></li>
<li><p>Scrape movie titles and save as <code>titles</code></p></li>
<li><p>Scrape years movies were made in and save as <code>years</code></p></li>
<li><p>Scrape IMDB ratings and save as <code>ratings</code></p></li>
<li><p>Create a data frame called <code>imdb_top_250</code> with variables <code>title</code>, <code>year</code>, and <code>rating</code></p></li>
</ol>
<hr>
<p>class: middle</p>
</section>
</section>
<section id="step-1.-read-the-whole-page" class="level1">
<h1>Step 1. Read the whole page</h1>
<hr>
<section id="read-the-whole-page" class="level2">
<h2 class="anchored" data-anchor-id="read-the-whole-page">Read the whole page</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>page <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">"https://www.imdb.com/chart/top/"</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>page</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{html_document}
&lt;html xmlns:og="http://ogp.me/ns#" xmlns:fb="http://www.facebook.com/2008/fbml"&gt;
[1] &lt;head&gt;\n&lt;meta http-equiv="Content-Type" content="text/html ...
[2] &lt;body id="styleguide-v2" class="fixed"&gt;\n            &lt;img  ...</code></pre>
</div>
</div>
<hr>
</section>
<section id="a-webpage-in-r" class="level2">
<h2 class="anchored" data-anchor-id="a-webpage-in-r">A webpage in R</h2>
<ul>
<li>Result is a list with 2 elements</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(page)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
</div>
<p>–</p>
<ul>
<li>that we need to convert to something more familiar, like a data frame….</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(page)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "xml_document" "xml_node"    </code></pre>
</div>
</div>
<hr>
<p>class: middle</p>
</section>
</section>
<section id="step-2.-scrape-movie-titles-and-save-as-titles" class="level1">
<h1>Step 2. Scrape movie titles and save as <code>titles</code></h1>
<hr>
<section id="scrape-movie-titles" class="level2">
<h2 class="anchored" data-anchor-id="scrape-movie-titles">Scrape movie titles</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/titles.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="scrape-the-nodes" class="level2">
<h2 class="anchored" data-anchor-id="scrape-the-nodes">Scrape the nodes</h2>
<p>.pull-left[] .pull-right[]</p>
<hr>
</section>
<section id="extract-the-text-from-the-nodes" class="level2">
<h2 class="anchored" data-anchor-id="extract-the-text-from-the-nodes">Extract the text from the nodes</h2>
<p>.pull-left[] .pull-right[]</p>
<hr>
</section>
<section id="save-as-titles" class="level2">
<h2 class="anchored" data-anchor-id="save-as-titles">Save as <code>titles</code></h2>
<p>.pull-left[] .pull-right[]</p>
<hr>
<p>class: middle</p>
</section>
</section>
<section id="step-3.-scrape-year-movies-were-made-and-save-as-years" class="level1">
<h1>Step 3. Scrape year movies were made and save as <code>years</code></h1>
<hr>
<section id="scrape-years-movies-were-made-in" class="level2">
<h2 class="anchored" data-anchor-id="scrape-years-movies-were-made-in">Scrape years movies were made in</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/years.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="scrape-the-nodes-1" class="level2">
<h2 class="anchored" data-anchor-id="scrape-the-nodes-1">Scrape the nodes</h2>
<p>.pull-left[] .pull-right[]</p>
<hr>
</section>
<section id="extract-the-text-from-the-nodes-1" class="level2">
<h2 class="anchored" data-anchor-id="extract-the-text-from-the-nodes-1">Extract the text from the nodes</h2>
<p>.pull-left[] .pull-right[]</p>
<hr>
</section>
<section id="clean-up-the-text" class="level2">
<h2 class="anchored" data-anchor-id="clean-up-the-text">Clean up the text</h2>
<p>We need to go from <code>"(1994)"</code> to <code>1994</code>:</p>
<ul>
<li><p>Remove <code>(</code> and <code>)</code>: string manipulation</p></li>
<li><p>Convert to numeric: <code>as.numeric()</code></p></li>
</ul>
<hr>
</section>
<section id="stringr" class="level2">
<h2 class="anchored" data-anchor-id="stringr">stringr</h2>
<p>.pull-left-wide[ - <strong>stringr</strong> provides a cohesive set of functions designed to make working with strings as easy as possible - Functions in stringr start with <code>str_*()</code>, e.g. - <code>str_remove()</code> to remove a pattern from a string] .pull-right-narrow[]</p>
<hr>
</section>
<section id="clean-up-the-text-1" class="level2">
<h2 class="anchored" data-anchor-id="clean-up-the-text-1">Clean up the text</h2>
<div class="cell" data-layout-align="center" data-output.lines="15">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>page <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_nodes</span>(<span class="st">".secondaryInfo"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text</span>() <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">("</span>) <span class="co"># remove (</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] "1994)" "1972)" "2008)" "1974)" "1957)" "1993)" "2003)"
  [8] "1994)" "2001)" "1966)" "1994)" "1999)" "2010)" "2002)"
 [15] "1980)" "1999)" "1990)" "1975)" "1995)" "1954)" "1946)"
 [22] "1991)" "2002)" "1998)" "1997)" "1999)" "2014)" "1977)"
 [29] "1991)" "1985)" "2001)" "1960)" "2002)" "1994)" "2019)"
 [36] "1994)" "2000)" "1998)" "2006)" "1995)" "2006)" "1942)"
 [43] "2014)" "2011)" "1988)" "1962)" "1936)" "1968)" "1954)"
 [50] "1979)" "1931)" "1988)" "1979)" "2000)" "1981)" "2012)"
 [57] "2008)" "2006)" "1950)" "1957)" "1980)" "1940)" "1957)"
 [64] "2018)" "1986)" "1999)" "2022)" "2018)" "1964)" "2012)"
 [71] "2003)" "2019)" "1984)" "1995)" "1995)" "2017)" "2009)"
 [78] "1981)" "2019)" "1997)" "1984)" "1997)" "2016)" "2000)"
 [85] "2010)" "1952)" "2009)" "1963)" "1983)" "1968)" "2004)"
 [92] "1992)" "2018)" "2012)" "1962)" "1941)" "1931)" "1959)"
 [99] "1985)" "1958)" "2001)" "1971)" "1944)" "1960)" "1987)"
...</code></pre>
</div>
</div>
<hr>
</section>
<section id="clean-up-the-text-2" class="level2">
<h2 class="anchored" data-anchor-id="clean-up-the-text-2">Clean up the text</h2>
<div class="cell" data-layout-align="center" data-output.lines="14">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>page <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_nodes</span>(<span class="st">".secondaryInfo"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text</span>() <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">("</span>) <span class="sc">%&gt;%</span> <span class="co"># remove (</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>) <span class="co"># remove )</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] "1994" "1972" "2008" "1974" "1957" "1993" "2003" "1994"
  [9] "2001" "1966" "1994" "1999" "2010" "2002" "1980" "1999"
 [17] "1990" "1975" "1995" "1954" "1946" "1991" "2002" "1998"
 [25] "1997" "1999" "2014" "1977" "1991" "1985" "2001" "1960"
 [33] "2002" "1994" "2019" "1994" "2000" "1998" "2006" "1995"
 [41] "2006" "1942" "2014" "2011" "1988" "1962" "1936" "1968"
 [49] "1954" "1979" "1931" "1988" "1979" "2000" "1981" "2012"
 [57] "2008" "2006" "1950" "1957" "1980" "1940" "1957" "2018"
 [65] "1986" "1999" "2022" "2018" "1964" "2012" "2003" "2019"
 [73] "1984" "1995" "1995" "2017" "2009" "1981" "2019" "1997"
 [81] "1984" "1997" "2016" "2000" "2010" "1952" "2009" "1963"
 [89] "1983" "1968" "2004" "1992" "2018" "2012" "1962" "1941"
 [97] "1931" "1959" "1985" "1958" "2001" "1971" "1944" "1960"
[105] "1987" "1952" "1983" "1962" "1973" "2020" "1976" "1995"
...</code></pre>
</div>
</div>
<hr>
</section>
<section id="convert-to-numeric" class="level2">
<h2 class="anchored" data-anchor-id="convert-to-numeric">Convert to numeric</h2>
<div class="cell" data-layout-align="center" data-output.lines="13">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>page <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_nodes</span>(<span class="st">".secondaryInfo"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_text</span>() <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">("</span>) <span class="sc">%&gt;%</span> <span class="co"># remove (</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>) <span class="sc">%&gt;%</span> <span class="co"># remove )</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.numeric</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] 1994 1972 2008 1974 1957 1993 2003 1994 2001 1966 1994 1999
 [13] 2010 2002 1980 1999 1990 1975 1995 1954 1946 1991 2002 1998
 [25] 1997 1999 2014 1977 1991 1985 2001 1960 2002 1994 2019 1994
 [37] 2000 1998 2006 1995 2006 1942 2014 2011 1988 1962 1936 1968
 [49] 1954 1979 1931 1988 1979 2000 1981 2012 2008 2006 1950 1957
 [61] 1980 1940 1957 2018 1986 1999 2022 2018 1964 2012 2003 2019
 [73] 1984 1995 1995 2017 2009 1981 2019 1997 1984 1997 2016 2000
 [85] 2010 1952 2009 1963 1983 1968 2004 1992 2018 2012 1962 1941
 [97] 1931 1959 1985 1958 2001 1971 1944 1960 1987 1952 1983 1962
[109] 1973 2020 1976 1995 2009 2010 1997 2011 1927 1988 2000 1948
[121] 1989 2019 2007 2004 1965 2005 2016 1921 1959 1950 2020 2018
[133] 2013 1961 1985 1995 2021 1992 2006 2007 1998 1999 2001 1975
[145] 1961 1948 2010 1993 1950 1963 2003 2007 2003 1980 1974 1980
...</code></pre>
</div>
</div>
<hr>
</section>
<section id="save-as-years" class="level2">
<h2 class="anchored" data-anchor-id="save-as-years">Save as <code>years</code></h2>
<p>.pull-left[] .pull-right[]</p>
<hr>
<p>class: middle</p>
</section>
</section>
<section id="step-4.-scrape-imdb-ratings-and-save-as-ratings" class="level1">
<h1>Step 4. Scrape IMDB ratings and save as <code>ratings</code></h1>
<hr>
<section id="scrape-imdb-ratings" class="level2">
<h2 class="anchored" data-anchor-id="scrape-imdb-ratings">Scrape IMDB ratings</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/ratings.png" class="img-fluid figure-img" style="width:70.0%"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="scrape-the-nodes-2" class="level2">
<h2 class="anchored" data-anchor-id="scrape-the-nodes-2">Scrape the nodes</h2>
<p>.pull-left[] .pull-right[]</p>
<hr>
</section>
<section id="extract-the-text-from-the-nodes-2" class="level2">
<h2 class="anchored" data-anchor-id="extract-the-text-from-the-nodes-2">Extract the text from the nodes</h2>
<p>.pull-left[] .pull-right[]</p>
<hr>
</section>
<section id="convert-to-numeric-1" class="level2">
<h2 class="anchored" data-anchor-id="convert-to-numeric-1">Convert to numeric</h2>
<p>.pull-left[] .pull-right[]</p>
<hr>
</section>
<section id="save-as-ratings" class="level2">
<h2 class="anchored" data-anchor-id="save-as-ratings">Save as <code>ratings</code></h2>
<p>.pull-left[] .pull-right[]</p>
<hr>
<p>class: middle</p>
</section>
</section>
<section id="step-5.-create-a-data-frame-called-imdb_top_250" class="level1">
<h1>Step 5. Create a data frame called <code>imdb_top_250</code></h1>
<hr>
<section id="create-a-data-frame-imdb_top_250" class="level2">
<h2 class="anchored" data-anchor-id="create-a-data-frame-imdb_top_250">Create a data frame: <code>imdb_top_250</code></h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> titles, </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">year =</span> years, </span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">rating =</span> ratings</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>imdb_top_250</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 250 x 3
  title                     year rating
  &lt;chr&gt;                    &lt;dbl&gt;  &lt;dbl&gt;
1 The Shawshank Redemption  1994    9.2
2 The Godfather             1972    9.2
3 The Dark Knight           2008    9  
4 The Godfather Part II     1974    9  
5 12 Angry Men              1957    8.9
6 Schindler's List          1993    8.9
# ... with 244 more rows</code></pre>
</div>
</div>
<hr>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">

<div id="htmlwidget-1b4ff99564eb6e8884a5" style="width:100%;height:400px;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-1b4ff99564eb6e8884a5">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250"],["The Shawshank Redemption","The Godfather","The Dark Knight","The Godfather Part II","12 Angry Men","Schindler's List","The Lord of the Rings: The Return of the King","Pulp Fiction","The Lord of the Rings: The Fellowship of the Ring","The Good, the Bad and the Ugly","Forrest Gump","Fight Club","Inception","The Lord of the Rings: The Two Towers","Star Wars: Episode V - The Empire Strikes Back","The Matrix","Goodfellas","One Flew Over the Cuckoo's Nest","Se7en","Seven Samurai","It's a Wonderful Life","The Silence of the Lambs","City of God","Saving Private Ryan","Life Is Beautiful","The Green Mile","Interstellar","Star Wars","Terminator 2: Judgment Day","Back to the Future","Spirited Away","Psycho","The Pianist","Léon: The Professional","Parasite","The Lion King","Gladiator","American History X","The Departed","The Usual Suspects","The Prestige","Casablanca","Whiplash","The Intouchables","Grave of the Fireflies","Harakiri","Modern Times","Once Upon a Time in the West","Rear Window","Alien","City Lights","Cinema Paradiso","Apocalypse Now","Memento","Indiana Jones and the Raiders of the Lost Ark","Django Unchained","WALL·E","The Lives of Others","Sunset Blvd.","Paths of Glory","The Shining","The Great Dictator","Witness for the Prosecution","Avengers: Infinity War","Aliens","American Beauty","Top Gun: Maverick","Spider-Man: Into the Spider-Verse","Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb","The Dark Knight Rises","Oldboy","Joker","Amadeus","Braveheart","Toy Story","Coco","Inglourious Basterds","The Boat","Avengers: Endgame","Princess Mononoke","Once Upon a Time in America","Good Will Hunting","Your Name.","Requiem for a Dream","Toy Story 3","Singin' in the Rain","3 Idiots","High and Low","Star Wars: Episode VI - Return of the Jedi","2001: A Space Odyssey","Eternal Sunshine of the Spotless Mind","Reservoir Dogs","Capernaum","The Hunt","Lawrence of Arabia","Citizen Kane","M","North by Northwest","Come and See","Vertigo","Amélie","A Clockwork Orange","Double Indemnity","The Apartment","Full Metal Jacket","Ikiru","Scarface","To Kill a Mockingbird","The Sting","Hamilton","Taxi Driver","Heat","Up","Incendies","L.A. Confidential","A Separation","Metropolis","Die Hard","Snatch","Bicycle Thieves","Indiana Jones and the Last Crusade","1917","Like Stars on Earth","Downfall","For a Few Dollars More","Batman Begins","Dangal","The Kid","Some Like It Hot","All About Eve","The Father","Green Book","The Wolf of Wall Street","Judgment at Nuremberg","Ran","Casino","Spider-Man: No Way Home","Unforgiven","Pan's Labyrinth","There Will Be Blood","The Truman Show","The Sixth Sense","A Beautiful Mind","Monty Python and the Holy Grail","Yojimbo","The Treasure of the Sierra Madre","Shutter Island","Jurassic Park","Rashomon","The Great Escape","Kill Bill: Vol. 1","No Country for Old Men","Finding Nemo","The Elephant Man","Chinatown","Raging Bull","The Thing","Gone with the Wind","V for Vendetta","Inside Out","Lock, Stock and Two Smoking Barrels","Dial M for Murder","The Secret in Their Eyes","Howl's Moving Castle","The Bridge on the River Kwai","Three Billboards Outside Ebbing, Missouri","Trainspotting","Warrior","Gran Torino","Fargo","Prisoners","My Neighbor Totoro","Million Dollar Baby","Catch Me If You Can","The Gold Rush","Blade Runner","Children of Heaven","On the Waterfront","The Third Man","Before Sunrise","12 Years a Slave","Ben-Hur","Wild Strawberries","Harry Potter and the Deathly Hallows: Part 2","Gone Girl","The General","The Deer Hunter","In the Name of the Father","The Grand Budapest Hotel","The Wages of Fear","Barry Lyndon","Mr. Smith Goes to Washington","Hacksaw Ridge","Sherlock Jr.","Memories of Murder","Klaus","Wild Tales","The Seventh Seal","Room","Mad Max: Fury Road","How to Train Your Dragon","Mary and Max","The Big Lebowski","Jaws","Monsters, Inc.","Everything Everywhere All at Once","Tokyo Story","Dead Poets Society","The Passion of Joan of Arc","Hotel Rwanda","Rocky","Ford v Ferrari","Platoon","Pather Panchali","Stand by Me","The Terminator","Spotlight","Rush","Logan","Network","Ratatouille","Into the Wild","The Wizard of Oz","Groundhog Day","Before Sunset","Jai Bhim","The Exorcist","The Best Years of Our Lives","The Incredibles","To Be or Not to Be","The Battle of Algiers","The Grapes of Wrath","Rebecca","Hachi: A Dog's Tale","Cool Hand Luke","Pirates of the Caribbean: The Curse of the Black Pearl","Amores perros","La Haine","My Father and My Son","The 400 Blows","Persona","It Happened One Night","The Sound of Music","Life of Brian","The Handmaiden","Dersu Uzala","Aladdin","Gandhi","The Help","The Iron Giant"],[1994,1972,2008,1974,1957,1993,2003,1994,2001,1966,1994,1999,2010,2002,1980,1999,1990,1975,1995,1954,1946,1991,2002,1998,1997,1999,2014,1977,1991,1985,2001,1960,2002,1994,2019,1994,2000,1998,2006,1995,2006,1942,2014,2011,1988,1962,1936,1968,1954,1979,1931,1988,1979,2000,1981,2012,2008,2006,1950,1957,1980,1940,1957,2018,1986,1999,2022,2018,1964,2012,2003,2019,1984,1995,1995,2017,2009,1981,2019,1997,1984,1997,2016,2000,2010,1952,2009,1963,1983,1968,2004,1992,2018,2012,1962,1941,1931,1959,1985,1958,2001,1971,1944,1960,1987,1952,1983,1962,1973,2020,1976,1995,2009,2010,1997,2011,1927,1988,2000,1948,1989,2019,2007,2004,1965,2005,2016,1921,1959,1950,2020,2018,2013,1961,1985,1995,2021,1992,2006,2007,1998,1999,2001,1975,1961,1948,2010,1993,1950,1963,2003,2007,2003,1980,1974,1980,1982,1939,2005,2015,1998,1954,2009,2004,1957,2017,1996,2011,2008,1996,2013,1988,2004,2002,1925,1982,1997,1954,1949,1995,2013,1959,1957,2011,2014,1926,1978,1993,2014,1953,1975,1939,2016,1924,2003,2019,2014,1957,2015,2015,2010,2009,1998,1975,2001,2022,1953,1989,1928,2004,1976,2019,1986,1955,1986,1984,2015,2013,2017,1976,2007,2007,1939,1993,2004,2021,1973,1946,2004,1942,1966,1940,1940,2009,1967,2003,2000,1995,2005,1959,1966,1934,1965,1979,2016,1975,1992,1982,2011,1999],[9.2,9.2,9,9,8.9,8.9,8.9,8.8,8.8,8.8,8.8,8.7,8.7,8.7,8.7,8.7,8.7,8.6,8.6,8.6,8.6,8.6,8.6,8.6,8.6,8.6,8.6,8.6,8.5,8.5,8.5,8.5,8.5,8.5,8.5,8.5,8.5,8.5,8.5,8.5,8.5,8.5,8.5,8.5,8.5,8.5,8.4,8.4,8.4,8.4,8.4,8.4,8.4,8.4,8.4,8.4,8.4,8.4,8.4,8.4,8.4,8.4,8.4,8.4,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.3,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.2,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8.1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>title<\/th>\n      <th>year<\/th>\n      <th>rating<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<hr>
</section>
<section id="clean-up-enhance" class="level2">
<h2 class="anchored" data-anchor-id="clean-up-enhance">Clean up / enhance</h2>
<p>May or may not be a lot of work depending on how messy the data are</p>
<ul>
<li>See if you like what you got:</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(imdb_top_250)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 250
Columns: 3
$ title  &lt;chr&gt; "The Shawshank Redemption", "The Godfather", "Th~
$ year   &lt;dbl&gt; 1994, 1972, 2008, 1974, 1957, 1993, 2003, 1994, ~
$ rating &lt;dbl&gt; 9.2, 9.2, 9.0, 9.0, 8.9, 8.9, 8.9, 8.8, 8.8, 8.8~</code></pre>
</div>
</div>
<ul>
<li>Add a variable for rank</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="ot">&lt;-</span> imdb_top_250 <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rank =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(imdb_top_250)) <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(rank)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<div class="cell" data-layout-align="center">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 250 x 4
    rank title                                        year rating
   &lt;int&gt; &lt;chr&gt;                                       &lt;dbl&gt;  &lt;dbl&gt;
 1     1 The Shawshank Redemption                     1994    9.2
 2     2 The Godfather                                1972    9.2
 3     3 The Dark Knight                              2008    9  
 4     4 The Godfather Part II                        1974    9  
 5     5 12 Angry Men                                 1957    8.9
 6     6 Schindler's List                             1993    8.9
 7     7 The Lord of the Rings: The Return of the K~  2003    8.9
 8     8 Pulp Fiction                                 1994    8.8
 9     9 The Lord of the Rings: The Fellowship of t~  2001    8.8
10    10 The Good, the Bad and the Ugly               1966    8.8
11    11 Forrest Gump                                 1994    8.8
12    12 Fight Club                                   1999    8.7
13    13 Inception                                    2010    8.7
14    14 The Lord of the Rings: The Two Towers        2002    8.7
15    15 Star Wars: Episode V - The Empire Strikes ~  1980    8.7
16    16 The Matrix                                   1999    8.7
17    17 Goodfellas                                   1990    8.7
18    18 One Flew Over the Cuckoo's Nest              1975    8.6
19    19 Se7en                                        1995    8.6
20    20 Seven Samurai                                1954    8.6
# ... with 230 more rows</code></pre>
</div>
</div>
<hr>
<p>class: middle</p>
</section>
</section>
<section id="what-next" class="level1">
<h1>What next?</h1>
<hr>
<p>.question[ Which years have the most movies on the list?]</p>
<p>–</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(year, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 86 x 2
   year     n
  &lt;dbl&gt; &lt;int&gt;
1  1995     8
2  2004     7
3  1957     6
4  1999     6
5  2003     6
6  2009     6
# ... with 80 more rows</code></pre>
</div>
</div>
<hr>
<p>.question[ Which 1995 movies made the list?]</p>
<p>–</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>imdb_top_250 <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">1995</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 x 4
   rank title               year rating
  &lt;int&gt; &lt;chr&gt;              &lt;dbl&gt;  &lt;dbl&gt;
1    19 Se7en               1995    8.6
2    40 The Usual Suspects  1995    8.5
3    74 Braveheart          1995    8.3
4    75 Toy Story           1995    8.3
5   112 Heat                1995    8.2
6   136 Casino              1995    8.2
7   180 Before Sunrise      1995    8.1
8   238 La Haine            1995    8  </code></pre>
</div>
</div>
<hr>
<p>.question[ Visualize the average yearly rating for movies that made it on the top 250 list over time.]</p>
<p>–</p>
<p>.panelset[ .panel[.panel-name[Plot]] .panel[.panel-name[Code]]]</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© Copyright 2022, Tyler George</div>   
    <div class="nav-footer-right">This page is built with <a href="https://quarto.org/">Quarto</a>.</div>
  </div>
</footer>



</body></html>